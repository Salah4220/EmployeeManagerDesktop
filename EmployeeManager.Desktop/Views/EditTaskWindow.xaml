<Window x:Class="EmployeeManager.Desktop.Views.EditTaskWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="Modifier la tâche"
        Height="500" Width="500"
        WindowStartupLocation="CenterScreen"
        Background="#FAFAFA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Titre -->
            <RowDefinition Height="Auto"/>
            <!-- Description -->
            <RowDefinition Height="Auto"/>
            <!-- State -->
            <RowDefinition Height="Auto"/>
            <!-- Effort -->
            <RowDefinition Height="Auto"/>
            <!-- Spent Time -->
            <RowDefinition Height="Auto"/>
            <!-- Priority -->
            <RowDefinition Height="*" />
            <!-- Espace -->
            <RowDefinition Height="Auto"/>
            <!-- Boutons -->
        </Grid.RowDefinitions>

        <!-- ===== Titre ===== -->
        <StackPanel Grid.Row="0" Margin="0,0,0,10">
            <TextBlock Text="Titre"
                       FontWeight="Bold"
                       Foreground="#333"
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding Task.Title, UpdateSourceTrigger=PropertyChanged}"
                     Height="28" Padding="4" />
        </StackPanel>

        <!-- ===== Description ===== -->
        <StackPanel Grid.Row="1" Margin="0,0,0,10">
            <TextBlock Text="Description"
                       FontWeight="Bold"
                       Foreground="#333"
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding Task.Description, UpdateSourceTrigger=PropertyChanged}"
                     Height="80"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     Padding="4"/>
        </StackPanel>

        <!-- ===== State ===== -->
        <StackPanel Grid.Row="2" Margin="0,0,0,10">
            <TextBlock Text="État"
                       FontWeight="Bold"
                       Foreground="#333"
                       Margin="0,0,0,5"/>
            <ComboBox SelectedItem="{Binding Task.State, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                      Height="28" Width="150">
                <sys:String>To_do</sys:String>
                <sys:String>Doing</sys:String>
                <sys:String>Done</sys:String>
            </ComboBox>
        </StackPanel>

        <!-- ===== Effort ===== -->
        <StackPanel Grid.Row="3" Margin="0,0,0,10">
            <TextBlock Text="Effort estimé"
                       FontWeight="Bold"
                       Foreground="#333"
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding Task.effortEstimation, UpdateSourceTrigger=PropertyChanged}"
                     Height="28" Padding="4"/>
        </StackPanel>

        <!-- ===== Spent Time ===== -->
        <StackPanel Grid.Row="4" Margin="0,0,0,10">
            <TextBlock Text="Temps passé"
                       FontWeight="Bold"
                       Foreground="#333"
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding Task.progress, UpdateSourceTrigger=PropertyChanged}"
                     Height="28" Padding="4"/>
        </StackPanel>

        <!-- ===== Priority ===== -->
        <StackPanel Grid.Row="5" Margin="0,0,0,10">
            <TextBlock Text="Priorité"
                       FontWeight="Bold"
                       Foreground="#333"
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding Task.priority, UpdateSourceTrigger=PropertyChanged}"
                     Height="28" Padding="4"/>
        </StackPanel>

        <!-- ===== Boutons ===== -->
        <StackPanel Grid.Row="7" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Annuler"
                    Width="100" Height="32"
                    Margin="0,0,10,0"
                    Click="Cancel_Click"/>
            <Button Content="🗑 Supprimer"
                    Command="{Binding DeleteCommand}"
                    Background="#E74C3C"
                    Foreground="White"
                    Width="110" Height="32"
                    Margin="0,0,10,0"/>
            <Button Content="💾 Enregistrer"
                    Command="{Binding SaveCommand}"
                    Background="#27AE60"
                    Foreground="White"
                    Width="120" Height="32"/>
        </StackPanel>
    </Grid>
</Window>
